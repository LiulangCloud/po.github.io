(this["webpackJsonpcloudcat-movie"]=this["webpackJsonpcloudcat-movie"]||[]).push([[0],{115:function(e,t,c){},116:function(e,t,c){},187:function(e,t,c){},188:function(e,t,c){},192:function(e,t,c){},193:function(e,t,c){},194:function(e,t,c){},195:function(e,t,c){},196:function(e,t,c){},214:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(10),i=c.n(s),o=(c(115),c(13)),r=(c(116),c(11)),l=c(21),j=c(17),d=(c(185),c(76)),h=c.n(d),b=c(46),u=c(107),p=(c(187),c(188),c(9));function O(e){var t,c=e.item;return Object(p.jsx)("li",{className:"post_card",children:Object(p.jsxs)(l.b,{to:"/post/".concat(c.postid),style:{display:"inline-block",width:"100%"},children:[Object(p.jsx)("img",{className:"thumb",src:c.image,alt:""}),Object(p.jsxs)("div",{className:"info",children:[Object(p.jsxs)("div",{className:"desc",children:[c.cates.map((function(e,t){return Object(p.jsx)("span",{children:e.catename},t)})),Object(p.jsx)("span",{className:"dus",children:(t=c.duration,Math.floor(t/1e3/60)+"'"+t/1e3%60+'"')})]}),Object(p.jsx)("h5",{children:c.title})]})]},c.postid)})}c(192);function x(e){var t=e.data,c=e.special;return Object(p.jsxs)("div",{className:c?"home_card special":"home_card",children:[Object(p.jsx)("h3",{children:t.selection_title}),Object(p.jsx)("ul",{children:t.list.map((function(e,t){return Object(p.jsx)(O,{item:e},t)}))})]})}function m(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),c=t[0],s=t[1],i=Object(n.useState)(203),r=Object(o.a)(i,2),d=r[0],O=r[1],m=Object(n.useState)([]),f=Object(o.a)(m,2),g=f[0],v=f[1];function w(){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.length?g[g.length-1].lastid:c.posts.lastid,e.next=3,window.axios.get("https://app.vmovier.com/apiv3/index/getIndexPosts/lastid/"+t).then((function(e){console.log(e.data.data),v([].concat(Object(b.a)(g),[e.data.data]))})).finally((function(){}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){console.log(window),window.axios.get("https://app.vmovier.com/apiv3/index/index").then((function(e){console.log(e.data.data),s(e.data.data)}))}),[]),Object(p.jsx)("div",{className:"home",onScroll:function(e){var t=e.target.scrollHeight-e.target.scrollTop-e.target.offsetHeight;0===Math.floor(t)&&g.length<=10&&w()},children:c&&Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)(j.a,{autoplay:!0,infinite:!0,children:c.banner.list.map((function(e){return Object(p.jsx)(l.b,{to:"/post/".concat(e.extra_data.app_banner_param),href:"http://www.alipay.com",style:{display:"inline-block",width:"100%",height:d},children:Object(p.jsx)("img",{src:e.image,alt:"",style:{width:"100%",verticalAlign:"top"},onLoad:function(){window.dispatchEvent(new Event("resize")),O("auto")}})},e.bannerid)}))}),Object(p.jsx)(x,{data:c.today}),Object(p.jsx)(x,{data:c.hot,special:!0}),Object(p.jsx)(x,{data:c.album}),g.map((function(e,t){return Object(p.jsx)(x,{data:e},t)})),g.length>=10&&Object(p.jsx)("div",{style:{height:"20",color:"white",backgroundColor:"#252525",padding:"10px",textAlign:"center"},onClick:w,children:"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a"})]})})}c(193);function f(){var e=Object(r.h)().id;console.log(e);var t=Object(n.useState)(null),c=Object(o.a)(t,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){window.axios.get("https://api.kele8.cn/agent/https://app.vmovier.com/apiv3/post/view?postid="+e).then((function(e){console.log(e.data.data),i(e.data.data)}))}),[e]),Object(p.jsx)("div",{className:"post",children:s&&Object(p.jsxs)(a.a.Fragment,{children:[Object(p.jsx)("video",{src:s.content_video[0].progressive[0].url,controls:!0,poster:s.image,preload:"metadata"}),Object(p.jsx)("h2",{children:s.title})]})})}c(194);function g(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){window.axios.get("https://api.kele8.cn/agent/https://app.vmovier.com/apiv3/cate/getList").then((function(e){console.log(e),a(e.data.data)}))}),[]),Object(p.jsx)("ul",{className:"cate",children:c.map((function(e,t){return Object(p.jsxs)("li",{className:"cate_list",children:[Object(p.jsx)("img",{src:e.icon,alt:""}),Object(p.jsxs)("h5",{children:["#",e.catename,"#"]})]})}))})}var v=c(78);c(195);function w(e){var t=e.getKw,c=e.search;return Object(p.jsx)("div",{className:"search_card",children:c&&c.recommend_keywords&&Object(p.jsx)("div",{className:"search_hot",children:c.recommend_keywords.map((function(e){return Object(p.jsx)("span",{onClick:function(){return c=e.kw,void t(c);var c},children:e.kw},e.id)}))})})}c(196);function y(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),i=Object(o.a)(s,2),l=i[0],d=i[1],h=Object(n.useRef)(null),u=Object(n.useState)(JSON.parse(window.localStorage.getItem("SHI"))||[]),x=Object(o.a)(u,2),m=x[0],f=x[1],g=Object(r.f)();function y(e){console.log(e),a(e),k(e)}function k(e){e&&f(Object(b.a)(new Set([e].concat(Object(b.a)(m))))),window.axios("https://api.kele8.cn/agent/https://app.vmovier.com/apiv3/search?kw="+e).then((function(e){console.log(e),d(e.data.data)}))}return Object(n.useEffect)((function(){h.current.focus(),k()}),[]),Object(n.useEffect)((function(){""===c&&l&&d(Object(v.a)(Object(v.a)({},l),{},{result:null}))}),[c]),Object(n.useEffect)((function(){window.localStorage.setItem("SHI",JSON.stringify(m))}),[m]),Object(p.jsxs)("div",{className:"search",children:[Object(p.jsxs)("div",{className:"search_top",children:[Object(p.jsxs)("div",{style:{backgroundColor:"",width:"100vw"},className:"top_left",children:[Object(p.jsx)(j.b,{type:"search",size:"sm",color:"rgb(131, 131, 131)"}),Object(p.jsx)("input",{type:"text",placeholder:"\u8bf7\u8f93\u5165\u8981\u641c\u7d22\u7684\u5185\u5bb9",ref:h,value:c,onChange:function(e){return a(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(console.log("\u641c\u7d22"),k(c))}}),c&&Object(p.jsx)(j.b,{type:"cross-circle",size:"xxs",color:"rgb(131,131,131)",onClick:function(){return a("")}})]}),Object(p.jsx)("div",{style:{color:"white"},className:"top_right",onClick:function(){return g.goBack()},children:"\u53d6\u6d88"})]}),Object(p.jsx)("hr",{}),l&&l.result&&c&&Object(p.jsx)("section",{children:Object(p.jsx)("div",{className:"filter",children:Object(p.jsx)("ul",{className:"result",children:l.result.list.map((function(e,t){return Object(p.jsx)(O,{item:e},t)}))})})}),l&&!l.result&&Object(p.jsxs)("div",{className:"search_hots",children:[Object(p.jsx)("span",{style:{marginBottom:"15px",display:"block",color:"#787878"},children:"\u70ed\u95e8\u641c\u7d22"}),Object(p.jsx)(w,{getKw:y,search:l})]}),m&&Object(p.jsxs)("div",{className:"search_his",children:[Object(p.jsx)("span",{style:{marginBottom:"15px",display:"block",color:"#787878"},children:"\u641c\u7d22\u8bb0\u5f55"}),Object(p.jsx)("div",{className:"search_hot",children:m.map((function(e,t){return Object(p.jsx)("span",{onClick:function(){return y(e)},children:e},t)}))})]})]})}function k(){return Object(p.jsx)("div",{})}var N=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(null),i=Object(o.a)(s,2),d=i[0],h=i[1],b=Object(r.g)();return console.log(b),Object(p.jsxs)("div",{className:b.pathname.match(/(^\/$|^\/cate$|^\/me$)/gi)?"App shownav":"App",children:[Object(p.jsx)(j.d,{className:"navbar",mode:"dark",leftContent:Object(p.jsx)(j.b,{type:"down",onClick:function(e){e.preventDefault(),window.axios.get("http://api.kele8.cn/agent/https://app.vmovier.com/apiv3/DayCover/getDayCover").then((function(e){h(e.data.data)})),a(!0)}}),rightContent:Object(p.jsx)(l.b,{to:"/search",children:Object(p.jsx)(j.b,{type:"search",color:"white"})}),children:Object(p.jsx)("nav",{className:"navbar",children:Object(p.jsxs)("ul",{className:"navlis",children:[Object(p.jsx)("li",{children:Object(p.jsx)(l.c,{to:"/",exact:!0,children:"\u53d1\u73b0"})}),Object(p.jsx)("li",{children:Object(p.jsx)(l.c,{to:"/cate",children:"\u9891\u9053"})}),Object(p.jsx)("li",{children:Object(p.jsx)(l.c,{to:"/me",children:"\u6211\u7684"})})]})})}),Object(p.jsx)("div",{children:Object(p.jsxs)(r.c,{children:[Object(p.jsx)(r.a,{path:"/cate",children:Object(p.jsx)(g,{})}),Object(p.jsx)(r.a,{path:"/me",children:Object(p.jsx)(k,{})}),Object(p.jsx)(r.a,{path:"/post/:id",children:Object(p.jsx)(f,{})}),Object(p.jsx)(r.a,{path:"/search",children:Object(p.jsx)(y,{})}),Object(p.jsx)(r.a,{path:"/",children:Object(p.jsx)(m,{})})]})}),Object(p.jsx)(j.c,{popup:!0,visible:c,transparent:!0,style:{height:"100vh",position:"relative"},maskClosable:!0,animationType:"up",children:Object(p.jsxs)("div",{className:"modal_box",style:{},children:[Object(p.jsx)("div",{className:"close",onClick:function(){a(!1)},children:"X"}),d&&Object(p.jsxs)("div",{className:"msg_box",children:[Object(p.jsx)("div",{style:{backgroundColor:"black",height:"55vh"},children:Object(p.jsx)("img",{src:d.image,alt:""})}),Object(p.jsx)("div",{style:{backgroundColor:"white",height:"30vh",paddingTop:60,color:"black"},children:Object(p.jsx)("p",{children:d.content})})]})]})})]})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,215)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))},C=c(110),S=c.n(C).a.create({});S.interceptors.request.use((function(e){return console.log("\u53d1\u9001"),j.e.loading("Loading...",30,(function(){console.log("Load complete !!!")}),!0),e}),(function(e){return Promise.reject(e)})),S.interceptors.response.use((function(e){return console.log("\u6210\u529f"),j.e.hide(),e}),(function(e){return console.log("\u5931\u8d25"),Promise.reject(e)})),window.axios=S,i.a.render(Object(p.jsx)(l.a,{children:Object(p.jsx)(N,{})}),document.getElementById("root")),_()}},[[214,1,2]]]);
//# sourceMappingURL=main.9dfb5ca6.chunk.js.map